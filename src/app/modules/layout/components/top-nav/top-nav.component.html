<nav class="top-0 mt-1 w-full">
  <div class="grid grid-cols-2 md:grid-cols-3 mx-6 items-center">
    <div
      class="col-span-1 cursor-pointer md:hidden md:cursor-none md:col-span-3"
    >
      <button
        class="
          inline-flex
          items-center
          justify-center
          p-2
          rounded-md
          hover:text-white hover:bg-gray-700
          focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white
        "
        [matMenuTriggerFor]="mainMenu"
        aria-controls="mobile-menu"
        aria-expanded="menuOpen"
      >
        <!-- (click)="menuOpen = !menuOpen" -->
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-5 w-5"
          viewBox="0 0 20 20"
          fill="currentColor"
        >
          <path
            fill-rule="evenodd"
            d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"
            clip-rule="evenodd"
          />
        </svg>
      </button>

      <mat-menu #mainMenu="matMenu">
        <div *ngFor="let item of menu.mainMenuDropdown$ | async">
          <!-- <div> -->
          <ng-container *ngIf="item.items && item.items.length > 0">
            <button mat-icon-button [matMenuTriggerFor]="submenu.Submenuitem">
              <span>{{item.text}}</span>
              <!-- <a
                [routerLink]="[item.link]"
                class="
                  block
                  px-4
                  py-2
                  whitespace-nowrap
                  hover:bg-gray-100 hover:cursor-pointer
                "
                >{{ item.text }}</a
              > -->
              <mat-icon>expand_more</mat-icon>
            </button>
            <app-submenu-items
              #submenu
              (SelectedMenu)="clickeventhandler($event)"
              [SubMenuItems]="item.items"
            ></app-submenu-items>
          </ng-container>

          <ng-container *ngIf="!item.items || item.items.length === 0">
            <button mat-icon-button>
              <a
                [routerLink]="[item.link]"
                class="
                  block
                  px-4
                  py-2
                  whitespace-nowrap
                  hover:bg-gray-100 hover:cursor-pointer
                "
                >{{ item.text }}</a
              >
            </button>
          </ng-container>
          <!-- </div> -->
        </div>
      </mat-menu>

      <!-- <mat-menu #mainMenu="matMenu">

			<ul class="py-1">
				<li *ngFor="let item of menu.mainMenuDropdown$ | async">
					<a
						(click)="navigateSubMenu(item.link)"
						class="block px-4 py-2 whitespace-nowrap hover:bg-gray-100 hover:cursor-pointer"
						>{{ item.text }}</a
					>
				</li>
			</ul>

		</mat-menu> -->
    </div>
    <div
      class="
        col-span-1
        hidden
        origin-left
        md:flex md:justify-items-center md:scale-[.3]
        lg:scale-[.5]
      "
    >
      <a [routerLink]="['/']">
        <app-brand class="w-full h-full"></app-brand>
      </a>
    </div>
    <div class="hidden md:flex md:items-center md:justify-center md:text-base">
      <app-menu-items-dropdown
        *ngFor="let menu of menu.mainMenuDropdown$ | async"
        [menu]="menu"
        text_color="text-app-base"
      ></app-menu-items-dropdown>
    </div>

    <div class="flex justify-end">
      <!-- [ngClass]="{ 'flex-auto justify-end': searchOpen }" -->
      <app-searchbar
        class="flex items-center justify-end scale-50 md:scale-75 lg:scale-100"
      ></app-searchbar>
      <app-bell-icon
        class="flex items-center justify-end scale-50 md:scale-75 lg:scale-100"
      ></app-bell-icon>
      <app-user-avatar
        [profile]="authenticatedUserService.item$ | async"
        class="flex items-center justify-end scale-50 md:scale-75 lg:scale-100"
      ></app-user-avatar>
    </div>
  </div>

  <!-- Mobile menu, show/hide based on menu state. -->
  <!-- <div *ngIf="menuOpen" class="md:hidden" id="mobile-menu">
    <app-menu-items-dropdown
      class="px-2 pt-2 pb-3 z-20 space-y-1 w-1/3"
      *ngFor="let menu of menu.mainMenuDropdown$ | async"
      [menu]="menu"
      text_color="text-app-base"
    ></app-menu-items-dropdown>
  </div> -->
</nav>
