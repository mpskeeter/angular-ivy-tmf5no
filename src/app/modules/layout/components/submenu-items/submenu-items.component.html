<mat-menu #Submenuitem="matMenu" [overlapTrigger]="false">
  <span *ngFor="let item of items">
    <ng-container *ngIf="!item.role; else checkRole">
      <span *ngIf="item.items && item.items.length > 0">
        <button mat-menu-item [matMenuTriggerFor]="submenu.Submenuitem">
          <span>{{ item.text }}</span>
        </button>
        <app-submenu-items
          #submenu
          (SelectedMenu)="clickeventhandler($event)"
          [items]="item.items"
        ></app-submenu-items>
      </span>
      <span *ngIf="!item.items || item.items.length === 0">
        <button mat-menu-item [routerLink]="[item.link]">
          <span>{{ item.text }}</span>
        </button>
      </span>
    </ng-container>

    <ng-template #checkRole>
      <ng-container *appHasRole="item.role">
        <span *ngIf="item.items && item.items.length > 0">
          <button mat-menu-item [matMenuTriggerFor]="submenu.Submenuitem">
            <span>{{ item.text }}</span>
          </button>
          <app-submenu-items
            #submenu
            (SelectedMenu)="clickeventhandler($event)"
            [items]="item.items"
          ></app-submenu-items>
        </span>
        <span *ngIf="!item.items || item.items.length === 0">
          <button mat-menu-item [routerLink]="[item.link]">
            <span>{{ item.text }}</span>
          </button>
        </span>
      </ng-container>
    </ng-template>
  </span>
</mat-menu>
